{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marie/Bureau/Ynov/Web Services/DizifyMusic/front-dizify-music/src/App.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-lone-blocks */\nimport { Avatar, Button, message, Tabs } from \"antd\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AlbumsList from \"./albums/albums\";\nimport Home from \"./Home\";\nimport ArtistsList from \"./artists/artists\";\nimport Playlists from \"./playlists/playlist\";\nimport { userContext } from \"./utils/types\";\nimport Modal from \"antd/lib/modal/Modal\";\nimport Connection from \"./user/connection\";\nimport usersService from \"./services/usersService\";\nconst {\n  TabPane\n} = Tabs;\n\nconst App = () => {\n  _s();\n\n  const [UserAvatar, setUserAvatar] = useState();\n  const [visible, setVisible] = useState(false);\n  const [user, setUser] = useState({\n    userId: window.sessionStorage.getItem(\"userId\") ? window.sessionStorage.getItem(\"userId\") : \"\",\n    token: window.sessionStorage.getItem(\"token\") ? window.sessionStorage.getItem(\"token\") : \"\",\n    admin: window.sessionStorage.getItem(\"admin\") ? window.sessionStorage.getItem(\"admin\") : null\n  });\n\n  const connection = values => {\n    const data = {\n      email: values.eMail,\n      password: values.password\n    };\n    axios.post(\"http://localhost:8080/login\", data).then(res => {\n      var _res$data$user$admini, _res$data$user$admini2;\n\n      res && message.success(`Connecté`);\n      {\n        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + res.data.token;\n      }\n      setVisible(false);\n      setUser({\n        userId: res.data.user.id,\n        token: res.data.token,\n        admin: (_res$data$user$admini = res.data.user.administrator) === null || _res$data$user$admini === void 0 ? void 0 : _res$data$user$admini.id\n      });\n      window.sessionStorage.setItem(\"userId\", res.data.user.id);\n      window.sessionStorage.setItem(\"token\", res.data.token);\n      window.sessionStorage.setItem(\"admin\", (_res$data$user$admini2 = res.data.user.administrator) === null || _res$data$user$admini2 === void 0 ? void 0 : _res$data$user$admini2.id);\n    });\n  };\n\n  const deconnection = () => {\n    setUser({\n      userId: \"\",\n      token: \"\",\n      admin: \"\"\n    });\n    window.sessionStorage.clear();\n  };\n\n  function getUserId() {\n    usersService.getUserById(user.userId).then(res => {\n      const User = res.data;\n      setUserAvatar(User);\n    });\n  }\n\n  useEffect(() => {\n    user.userId && getUserId();\n\n    if (window.sessionStorage.getItem(\"admin\") === \"undefined\") {\n      window.sessionStorage.setItem(\"admin\", \"\");\n      setUser({\n        userId: user.userId,\n        token: user.token,\n        admin: \"\"\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(userContext.Provider, {\n    value: { ...user,\n      connection\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        marginTop: \"2%\",\n        width: \"80%\",\n        marginRight: \"auto\",\n        marginLeft: \"auto\"\n      },\n      children: [user.userId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          shape: \"round\",\n          onClick: () => {\n            deconnection();\n          },\n          children: \"Se d\\xE9connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"large\",\n          src: UserAvatar === null || UserAvatar === void 0 ? void 0 : UserAvatar.avatarUri\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          shape: \"round\",\n          type: \"primary\",\n          style: {\n            marginRight: \"5%\"\n          },\n          onClick: () => {\n            setVisible(true);\n          },\n          children: \"Se connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"ou\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          shape: \"round\",\n          type: \"primary\",\n          style: {\n            marginLeft: \"5%\"\n          },\n          onClick: () => {\n            setVisible(true);\n          },\n          children: \"S'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        footer: null,\n        title: \"Se connecter\",\n        visible: visible,\n        onCancel: () => setVisible(false),\n        children: /*#__PURE__*/_jsxDEV(Connection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        defaultActiveKey: \"1\",\n        centered: true,\n        style: {\n          marginTop: \"2%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TabPane, {\n          tab: \"Accueil\",\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n          tab: \"Artists\",\n          children: /*#__PURE__*/_jsxDEV(ArtistsList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n          tab: \"Albums\",\n          children: /*#__PURE__*/_jsxDEV(AlbumsList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, \"3\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), user.admin ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TabPane, {\n            tab: \"Favoris\",\n            children: \"Favoris\"\n          }, \"4\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n            tab: \"Playlists\",\n            children: /*#__PURE__*/_jsxDEV(Playlists, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)\n          }, \"5\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"opV6LLvRqjeLcP7aIQG/sYY+2h4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/marie/Bureau/Ynov/Web Services/DizifyMusic/front-dizify-music/src/App.tsx"],"names":["Avatar","Button","message","Tabs","axios","React","useEffect","useState","AlbumsList","Home","ArtistsList","Playlists","userContext","Modal","Connection","usersService","TabPane","App","UserAvatar","setUserAvatar","visible","setVisible","user","setUser","userId","window","sessionStorage","getItem","token","admin","connection","values","data","email","eMail","password","post","then","res","success","defaults","headers","common","id","administrator","setItem","deconnection","clear","getUserId","getUserById","User","display","justifyContent","alignItems","flexDirection","marginTop","width","marginRight","marginLeft","avatarUri"],"mappings":"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","sourcesContent":["/* eslint-disable no-lone-blocks */\nimport { Avatar, Button, message, Tabs } from \"antd\";\nimport axios from \"axios\";\nimport React, { FC, useEffect, useState } from \"react\";\nimport AlbumsList from \"./albums/albums\";\nimport Home from \"./Home\";\nimport ArtistsList from \"./artists/artists\";\nimport Playlists from \"./playlists/playlist\";\nimport { userContext } from \"./utils/types\";\nimport Modal from \"antd/lib/modal/Modal\";\nimport Connection from \"./user/connection\";\nimport usersService from \"./services/usersService\";\n\ntype User = {\n  id: number;\n  avatarUri: string;\n};\n\nconst { TabPane } = Tabs;\n\nconst App: FC = () => {\n  const [UserAvatar, setUserAvatar] = useState<User>();\n  const [visible, setVisible] = useState<boolean>(false);\n  const [user, setUser] = useState<{\n    userId: string;\n    token: string;\n    admin: string | null;\n  }>({\n    userId: window.sessionStorage.getItem(\"userId\")\n      ? window.sessionStorage.getItem(\"userId\")!\n      : \"\",\n    token: window.sessionStorage.getItem(\"token\")\n      ? window.sessionStorage.getItem(\"token\")!\n      : \"\",\n    admin: window.sessionStorage.getItem(\"admin\")\n      ? window.sessionStorage.getItem(\"admin\")!\n      : null,\n  });\n\n  const connection = (values: any) => {\n    const data = {\n      email: values.eMail,\n      password: values.password,\n    };\n    axios.post(\"http://localhost:8080/login\", data).then((res) => {\n      res && message.success(`Connecté`);\n      {\n        axios.defaults.headers.common[\"Authorization\"] =\n          \"Bearer \" + res.data.token;\n      }\n      setVisible(false);\n      setUser({\n        userId: res.data.user.id,\n        token: res.data.token,\n        admin: res.data.user.administrator?.id,\n      });\n      window.sessionStorage.setItem(\"userId\", res.data.user.id);\n      window.sessionStorage.setItem(\"token\", res.data.token);\n      window.sessionStorage.setItem(\"admin\", res.data.user.administrator?.id);\n    });\n  };\n\n  const deconnection = () => {\n    setUser({\n      userId: \"\",\n      token: \"\",\n      admin: \"\",\n    });\n    window.sessionStorage.clear();\n  };\n\n  function getUserId() {\n    usersService.getUserById(user.userId).then((res) => {\n      const User = res.data;\n      setUserAvatar(User);\n    });\n  }\n\n  useEffect(() => {\n    user.userId && getUserId();\n    if (window.sessionStorage.getItem(\"admin\") === \"undefined\") {\n      window.sessionStorage.setItem(\"admin\", \"\");\n      setUser({\n        userId: user.userId,\n        token: user.token,\n        admin: \"\",\n      });\n    }\n  }, []);\n\n  return (\n    <userContext.Provider value={{ ...user, connection }}>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          marginTop: \"2%\",\n          width: \"80%\",\n          marginRight: \"auto\",\n          marginLeft: \"auto\",\n        }}\n      >\n        {user.userId ? (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Button\n              shape=\"round\"\n              onClick={() => {\n                deconnection();\n              }}\n            >\n              Se déconnecter\n            </Button>\n            <Avatar size=\"large\" src={UserAvatar?.avatarUri} />\n          </div>\n        ) : (\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Button\n              shape=\"round\"\n              type=\"primary\"\n              style={{ marginRight: \"5%\" }}\n              onClick={() => {\n                setVisible(true);\n              }}\n            >\n              Se connecter\n            </Button>\n            <p>ou</p>\n            <Button\n              shape=\"round\"\n              type=\"primary\"\n              style={{ marginLeft: \"5%\" }}\n              onClick={() => {\n                setVisible(true);\n              }}\n            >\n              S'inscrire\n            </Button>\n          </div>\n        )}\n        <Modal\n          footer={null}\n          title=\"Se connecter\"\n          visible={visible}\n          onCancel={() => setVisible(false)}\n        >\n          <Connection />\n        </Modal>\n\n        <Tabs defaultActiveKey=\"1\" centered style={{ marginTop: \"2%\" }}>\n          <TabPane tab=\"Accueil\" key=\"1\">\n            <Home />\n          </TabPane>\n          <TabPane tab=\"Artists\" key=\"2\">\n            <ArtistsList />\n          </TabPane>\n          <TabPane tab=\"Albums\" key=\"3\">\n            <AlbumsList />\n          </TabPane>\n          {user.admin ? null : (\n            <>\n              <TabPane tab=\"Favoris\" key=\"4\">\n                Favoris\n              </TabPane>\n              <TabPane tab=\"Playlists\" key=\"5\">\n                <Playlists />\n              </TabPane>\n            </>\n          )}\n        </Tabs>\n      </div>\n    </userContext.Provider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}